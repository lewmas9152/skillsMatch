<div class="signup-container">
  <h2>Create Account</h2>
  <p class="subtitle">Join our platform to find your perfect job match</p>

  <div class="user-type-selector">
    <button
      *ngFor="let type of userTypes"
      [class.active]="selectedUserType === type"
      (click)="selectUserType(type)"
    >
      {{ type }}
    </button>
  </div>

  <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
    <div class="name-row">
      <div class="form-group">
        <input
          type="text"
          formControlName="firstName"
          placeholder="First name"
          [class.invalid]="
            signupForm.get('firstName')?.invalid &&
            signupForm.get('firstName')?.touched
          "
        />
      </div>

      <div class="form-group">
        <input
          type="text"
          formControlName="lastName"
          placeholder="Last name"
          [class.invalid]="
            signupForm.get('lastName')?.invalid &&
            signupForm.get('lastName')?.touched
          "
        />
      </div>
    </div>

    <div class="form-group">
      <input
        type="email"
        formControlName="email"
        placeholder="Email"
        [class.invalid]="
          signupForm.get('email')?.invalid && signupForm.get('email')?.touched
        "
      />
    </div>

    <div class="form-group">
      <input
        type="password"
        formControlName="password"
        placeholder="Password"
        [class.invalid]="
          signupForm.get('password')?.invalid &&
          signupForm.get('password')?.touched
        "
      />
    </div>

    <div class="password-strength">
      <div class="strength-meter">
        <div
          class="meter-section"
          [class.active]="
            passwordStrength === 'weak' ||
            passwordStrength === 'medium' ||
            passwordStrength === 'strong'
          "
        ></div>
        <div
          class="meter-section"
          [class.active]="
            passwordStrength === 'medium' || passwordStrength === 'strong'
          "
        ></div>
        <div
          class="meter-section"
          [class.active]="passwordStrength === 'strong'"
        ></div>
        <div class="meter-section"></div>
      </div>
      <div *ngIf="passwordStrength" class="strength-text">Strong password</div>
    </div>

    <div class="form-group terms">
      <label>
        <input type="checkbox" formControlName="agreeTerms" />
        <span
          [class.invalid]="
            signupForm.get('agreeTerms')?.invalid &&
            signupForm.get('agreeTerms')?.touched
          "
        >
          I agree to the terms and Privacy Policy
        </span>
      </label>
    </div>

    <button type="submit" class="submit-btn" [disabled]="signupForm.invalid">
      Create Account
    </button>

    <div class="login-link">
      Already have an account? <a routerLink="/home/login">Login</a>
    </div>
  </form>
  <router-outlet></router-outlet>
</div>
